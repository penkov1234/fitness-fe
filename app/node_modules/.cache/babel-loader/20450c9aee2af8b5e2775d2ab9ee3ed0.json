{"ast":null,"code":"import _objectSpread from \"/Users/petarpenkov/Documents/fitness-fe-master/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { ActionStatus } from 'redux/core/ActionStatus';\nimport { buildActionType } from 'redux/actions/buildActionType';\nimport { LOGOUT, NOT_AUTHORIZED, LOGIN, STORAGE_PERSIST } from 'redux/constants/auth.constants';\nimport { StateStatus } from 'redux/core/StateStatus';\n\nconst auth = (state = {\n  data: {},\n  status: StateStatus.NOT_INITIALIZED,\n  error: null,\n  persisted: false\n}, action) => {\n  switch (action.type) {\n    case buildActionType(LOGIN, ActionStatus.START):\n      return {\n        status: StateStatus.LOADING,\n        data: {},\n        error: null,\n        persisted: false\n      };\n\n    case buildActionType(LOGIN, ActionStatus.REFRESH):\n      return _objectSpread({}, state, {\n        data: _objectSpread({}, action.payload),\n        persisted: false,\n        status: StateStatus.REFRESHING\n      });\n\n    case buildActionType(LOGIN, ActionStatus.DONE):\n      return {\n        status: StateStatus.LOADED,\n        data: _objectSpread({}, action.payload),\n        persisted: false,\n        error: null,\n        version: +new Date()\n      };\n\n    case buildActionType(STORAGE_PERSIST, ActionStatus.DONE):\n      return _objectSpread({}, state, {\n        persisted: true,\n        version: +new Date()\n      });\n\n    case buildActionType(LOGIN, ActionStatus.FAILED):\n      return {\n        status: StateStatus.ERROR,\n        error: action.payload\n      };\n\n    case LOGOUT:\n      state = null;\n      return {\n        status: StateStatus.NOT_INITIALIZED,\n        data: null,\n        error: null,\n        persisted: false\n      };\n\n    case NOT_AUTHORIZED:\n      state = null;\n      return {\n        status: StateStatus.NOT_INITIALIZED,\n        data: null,\n        error: NOT_AUTHORIZED,\n        persisted: false\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport { auth };","map":{"version":3,"sources":["/Users/petarpenkov/Documents/fitness-fe-master/app/src/redux/reducers/auth.js"],"names":["ActionStatus","buildActionType","LOGOUT","NOT_AUTHORIZED","LOGIN","STORAGE_PERSIST","StateStatus","auth","state","data","status","NOT_INITIALIZED","error","persisted","action","type","START","LOADING","REFRESH","payload","REFRESHING","DONE","LOADED","version","Date","FAILED","ERROR"],"mappings":";AAAA,SAASA,YAAT,QAA6B,yBAA7B;AACA,SAASC,eAAT,QAAgC,+BAAhC;AACA,SAASC,MAAT,EAAiBC,cAAjB,EAAiCC,KAAjC,EAAwCC,eAAxC,QAA+D,gCAA/D;AACA,SAASC,WAAT,QAA4B,wBAA5B;;AAEA,MAAMC,IAAI,GAAG,CACTC,KAAK,GAAG;AACJC,EAAAA,IAAI,EAAE,EADF;AAEJC,EAAAA,MAAM,EAAEJ,WAAW,CAACK,eAFhB;AAGJC,EAAAA,KAAK,EAAE,IAHH;AAIJC,EAAAA,SAAS,EAAE;AAJP,CADC,EAOTC,MAPS,KAQR;AACD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKd,eAAe,CAACG,KAAD,EAAQJ,YAAY,CAACgB,KAArB,CAApB;AACI,aAAO;AAAEN,QAAAA,MAAM,EAAEJ,WAAW,CAACW,OAAtB;AAA+BR,QAAAA,IAAI,EAAE,EAArC;AAAyCG,QAAAA,KAAK,EAAE,IAAhD;AAAsDC,QAAAA,SAAS,EAAE;AAAjE,OAAP;;AAEJ,SAAKZ,eAAe,CAACG,KAAD,EAAQJ,YAAY,CAACkB,OAArB,CAApB;AACI,+BAAYV,KAAZ;AAAmBC,QAAAA,IAAI,oBAAOK,MAAM,CAACK,OAAd,CAAvB;AAAgDN,QAAAA,SAAS,EAAE,KAA3D;AAAkEH,QAAAA,MAAM,EAAEJ,WAAW,CAACc;AAAtF;;AAEJ,SAAKnB,eAAe,CAACG,KAAD,EAAQJ,YAAY,CAACqB,IAArB,CAApB;AACI,aAAO;AAAEX,QAAAA,MAAM,EAAEJ,WAAW,CAACgB,MAAtB;AAA8Bb,QAAAA,IAAI,oBAAOK,MAAM,CAACK,OAAd,CAAlC;AAA2DN,QAAAA,SAAS,EAAE,KAAtE;AAA6ED,QAAAA,KAAK,EAAE,IAApF;AAA0FW,QAAAA,OAAO,EAAE,CAAC,IAAIC,IAAJ;AAApG,OAAP;;AAEJ,SAAKvB,eAAe,CAACI,eAAD,EAAkBL,YAAY,CAACqB,IAA/B,CAApB;AACI,+BAAYb,KAAZ;AAAmBK,QAAAA,SAAS,EAAE,IAA9B;AAAoCU,QAAAA,OAAO,EAAE,CAAC,IAAIC,IAAJ;AAA9C;;AAEJ,SAAKvB,eAAe,CAACG,KAAD,EAAQJ,YAAY,CAACyB,MAArB,CAApB;AACI,aAAO;AAAEf,QAAAA,MAAM,EAAEJ,WAAW,CAACoB,KAAtB;AAA6Bd,QAAAA,KAAK,EAAEE,MAAM,CAACK;AAA3C,OAAP;;AACJ,SAAKjB,MAAL;AACIM,MAAAA,KAAK,GAAG,IAAR;AACA,aAAO;AAAEE,QAAAA,MAAM,EAAEJ,WAAW,CAACK,eAAtB;AAAuCF,QAAAA,IAAI,EAAE,IAA7C;AAAmDG,QAAAA,KAAK,EAAE,IAA1D;AAAgEC,QAAAA,SAAS,EAAE;AAA3E,OAAP;;AACJ,SAAKV,cAAL;AACIK,MAAAA,KAAK,GAAG,IAAR;AACA,aAAO;AAAEE,QAAAA,MAAM,EAAEJ,WAAW,CAACK,eAAtB;AAAuCF,QAAAA,IAAI,EAAE,IAA7C;AAAmDG,QAAAA,KAAK,EAAET,cAA1D;AAA0EU,QAAAA,SAAS,EAAE;AAArF,OAAP;;AACJ;AACI,aAAOL,KAAP;AAtBR;AAwBH,CAjCD;;AAmCA,SAASD,IAAT","sourcesContent":["import { ActionStatus } from 'redux/core/ActionStatus';\nimport { buildActionType } from 'redux/actions/buildActionType';\nimport { LOGOUT, NOT_AUTHORIZED, LOGIN, STORAGE_PERSIST } from 'redux/constants/auth.constants';\nimport { StateStatus } from 'redux/core/StateStatus';\n\nconst auth = (\n    state = {\n        data: {},\n        status: StateStatus.NOT_INITIALIZED,\n        error: null,\n        persisted: false,\n    },\n    action\n) => {\n    switch (action.type) {\n        case buildActionType(LOGIN, ActionStatus.START):\n            return { status: StateStatus.LOADING, data: {}, error: null, persisted: false };\n\n        case buildActionType(LOGIN, ActionStatus.REFRESH):\n            return { ...state, data: { ...action.payload }, persisted: false, status: StateStatus.REFRESHING };\n\n        case buildActionType(LOGIN, ActionStatus.DONE):\n            return { status: StateStatus.LOADED, data: { ...action.payload }, persisted: false, error: null, version: +new Date() };\n\n        case buildActionType(STORAGE_PERSIST, ActionStatus.DONE):\n            return { ...state, persisted: true, version: +new Date() };\n\n        case buildActionType(LOGIN, ActionStatus.FAILED):\n            return { status: StateStatus.ERROR, error: action.payload };\n        case LOGOUT:\n            state = null;\n            return { status: StateStatus.NOT_INITIALIZED, data: null, error: null, persisted: false };\n        case NOT_AUTHORIZED:\n            state = null;\n            return { status: StateStatus.NOT_INITIALIZED, data: null, error: NOT_AUTHORIZED, persisted: false };\n        default:\n            return state;\n    }\n};\n\nexport { auth };\n"]},"metadata":{},"sourceType":"module"}